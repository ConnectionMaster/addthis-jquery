<html>
    <head>
        <title>
            AddThis jQuery Plugin Example Code
        </title>
        <script src="../../node_modules/jquery/dist/jquery.js"></script>
        <script src="../../dist/jquery-addthis.js"></script>
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-593dce7ba1919f85"></script>
        <link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.css"></link>

        <style>
            body {
                padding: 30px 30px 30px 60px;
            }
        </style>
    </head>
    <body>
        <nav class="navbar navbar-light bg-faded">
            <a class="navbar-brand" href="#">jquery-addthis</a>

            <ul class="nav navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="./index.html">List of Tool Examples</a>
                </li>
            </ul>

            <ul class="nav navbar-nav float-xs-right">
                <li class="nav-item">
                    <a class="nav-link" href="https://www.addthis.com">AddThis</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="../docs/index.html">Documentation</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./tests.html">Test Results</a>
                </li>
                <!--
                <li class="nav-item">
                    <a class="nav-link" href="#">GitHub</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">NPM</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Bower</a>
                </li>
                -->
            </ul>

        </nav>

        <h1>
            AddThis jQuery Plugin Example Site
        </h1>
        <h2>
            Tool Example 3
            <small>
                changing the share title on an inline tool
            </small>
        </h2>

        <div class="my-div-where-i-want-addthis-tools"></div>

        <button type="button" class="btn btn-primary" id='changeTitle'>
            Change Title
        </button>
        <p><pre><code>share title === '<span id="shareTitle"></span>'</code></pre></p>

        <script>
            // the selector for picking out the the div we'll put AddThis tools into
            var toolDivSelector = '.my-div-where-i-want-addthis-tools';
            // initial title shared with share buttons
            var initialTitle = 'This link is awesome. Check it out!';
            // alternate title shared with share buttons
            var alternateTitle = 'This is a good read:';

            // initial configuration for AddThis tool
            var addthisToolConfig1 = {
                tool: 'addthis_inline_share_toolbox_ipi2',
                title: initialTitle
            };

            // variable for tracking last used share title
            var currentToolTitle = addthisToolConfig1.title;
            // update the pre element with the current share url
            document.getElementById('shareTitle').innerText = currentToolTitle;

            // create element for AddThis tool
            var tool = $.addthis().tool(addthisToolConfig1);
            // append element for AddThis tool onto the desired div
            tool.appendTo(toolDivSelector);

            // function to change the share title on the AddThis tool in the tool variable
            function switchTitle() {
                if (currentToolTitle === initialTitle) {
                    // if the last title is the initial title
                    // change the tool saved in the tool variable to use the alternate title
                    tool.shareTitle(alternateTitle);
                    // track last used share title
                    currentToolTitle = alternateTitle;
                } else {
                    // else the last title is the alternate title
                    // change the tool saved in the tool variable to use the initial title
                    tool.shareTitle(initialTitle);
                    // track last used share title
                    currentToolTitle = initialTitle;
                }

                // update the pre element with the current share title
                document.getElementById('shareTitle').innerText = currentToolTitle;
            }

            // call switchTitle function whenever someone clicks on the button
            $('button#changeTitle').click(switchTitle);
        </script>
    </body>
</html>